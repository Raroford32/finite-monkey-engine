# ===============================================
# Finite Monkey Engine 环境配置文件
# Environment Configuration for Finite Monkey Engine
# ===============================================

# 数据库连接URL，使用PostgreSQL数据库
# Database connection URL using PostgreSQL
DATABASE_URL=postgresql://postgres:1234@127.0.0.1:5432/postgres

# ===============================================
# AI模型配置 / AI Model Configuration
# ===============================================

# OpenRouter API基础URL
# OpenRouter API base URL
OPENROUTER_API_BASE="openrouter.ai"

# OpenRouter API密钥
# OpenRouter API key
OPENROUTER_API_KEY="sk-or-v1-xxxxx"

# Optional OpenRouter headers for routing
OPENROUTER_REFERER="https://your-app.example"
OPENROUTER_TITLE="FiniteMonkey"


# ===============================================
# 扫描模式配置 / Scan Mode Configuration
# ===============================================

# 扫描模式设置
# Scan mode setting
# / PURE_SCAN(纯扫描) 
# / COMMON_PROJECT_FINE_GRAINED(通用项目CHECKLIST逐个提问)（成本提升10倍）
# Available options: PURE_SCAN / COMMON_PROJECT_FINE_GRAINED
SCAN_MODE=COMMON_PROJECT_FINE_GRAINED

SCAN_MODE_AVA=False

COMPLEXITY_ANALYSIS_ENABLED=True

# ===============================================
# 性能调优配置 / Performance Tuning Configuration
# ===============================================

# 扫描阶段的最大线程数
# Maximum number of threads for scanning phase
MAX_THREADS_OF_SCAN=10

# 确认阶段的最大线程数
# Maximum number of threads for confirmation phase
MAX_THREADS_OF_CONFIRMATION=50

# RAG并行搜索的最大工作线程数
# Maximum number of worker threads for parallel RAG searches
MAX_PARALLEL_RAG_WORKERS=4

# 业务流程重复数量（触发幻觉的数量，数字越大幻觉越多，输出越多，时间越长）
# Business flow repeat count (number of hallucinations triggered, higher number means more hallucinations, more output, longer time)
BUSINESS_FLOW_COUNT=4

# ===============================================
# 高级功能配置 / Advanced Feature Configuration
# ===============================================

# 是否启用对话模式
# Whether to enable dialogue mode
ENABLE_DIALOGUE_MODE=False

# 忽略的文件夹（逗号分隔）
# Folders to ignore (comma-separated)
IGNORE_FOLDERS=node_modules,build,dist,test,tests,.git

# ===============================================
# 检查清单配置 / Checklist Configuration
# ===============================================

# 检查清单文件路径
# Path to checklist file
CHECKLIST_PATH=src/knowledges/checklist.xlsx

# 检查清单工作表名称
# Checklist worksheet name
CHECKLIST_SHEET=Sheet1 

# ===============================================
# Agentic Pipeline / Orchestrator
# ===============================================

# Optional RPC URL used for local fork validation
CHAIN_RPC_URL="http://127.0.0.1:8545"

# LanceDB base path for RAG and agent memory
LANCEDB_PATH="./src/codebaseQA/lancedb"